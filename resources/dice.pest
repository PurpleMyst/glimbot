//
// Created by intellij-pest on 2020-03-18
// dice
// Author: Nicholas
//

WHITESPACE = _{" "}
num = @{ASCII_DIGIT+}
die = ${num ~ "d" ~ num}
atom = {die | num}
op = {"+" | "-"}
expr = {
    (atom ~ expr_tail)
    | ("(" ~ expr ~ ")" ~ expr_tail)
}

expr_tail = { (op ~ expr)* }

roll = {SOI ~ expr ~ EOI}
